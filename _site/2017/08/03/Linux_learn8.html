<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="keywords" content="Linux学习小记8, 婷婷的博客, ">
  <title>Linux学习小记8 - 婷婷的博客</title>
  <link rel="canonical" href="https://tingtinZ.github.io/2017/08/03/Linux_learn8.html">
  <link rel="icon" href="/res/img/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/res/img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/res/css/public.css">
  <link rel="stylesheet" href="/res/css/light.css">
  <script src="/res/js/light.js"></script>
  <!-- <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script> -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-88258580-1', 'auto');
  ga('send', 'pageview');

</script>

</head>
<body>
  <div id="blog">
    <div class="sidebar">
  <div class="profilepic">
    <a href="/"><img src="/res/img/me.jpg" alt="logo"></img></a>
  </div>
  <h1 class="title"><a href="/">婷婷的博客</a></h1>
  <h2 class="sub-title"></h2>
  <nav id="nav">
    <ul>
    
      <li><a href="/page/timing.html"><i class="fa fa-clock-o"></i>&nbsp;时间轴</a></li>
    
      <li><a href="/page/category.html"><i class="fa fa-tags"></i>&nbsp;分类</a></li>
    
      <li><a href="/page/read.html"><i class="fa fa-book"></i>&nbsp;阅读</a></li>
    
      <li><a href="/page/about.html"><i class="fa fa-paper-plane-o"></i>&nbsp;关于</a></li>
    
    </ul>
  </nav>  
  <nav id="sub-nav">
    <a class="weibo " href="" title="新浪微博" target="_blank"><i class="fa fa-weibo"></i></a>
    <a class="github" href="https://github.com/tingtinZ" title="GitHub" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    <a class="rss" href="/page/feed.xml" title="RSS订阅" target="_blank"><i class="fa fa-rss"></i></a>
    <a class="search" href="/page/search.html" title="搜索" target="_blank"><i class="fa fa-search"></i></a>
  </nav>
  <div id="license">
    <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" title="本站所有作品采用：&#10;知识共享《署名 非商业性使用 相同方式共享 3.0》&#10;进行许可" >
    <img alt="License" height="31" width="88" src="data:image/png;base64,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" /></a>
  </div>
</div>

    <div class="main">
    <header class="post-header">
  <h1 class="post-title"><a href="/2017/08/03/Linux_learn8.html">Linux学习小记8</a></h2>
  <p class="post-meta">
    <i class="fa fa-calendar"></i>
    2017年08月03日
    <i class="space"></i>
    
    <i class="fa fa-tags"></i>
    <a class="post-category" href="/page/category.html#Linux">Linux</a>
    
    
    <a class="post-category" href="/page/category.html#"></a>
    
  </p>
</header>
<div class="post-main">
<p>今天是学习《实战LINUX_SHELL编程与服务器管理》的最后一天，计划学完剩下部分。</p>

<!-- more -->

<h3 id="进程管理和工作控制">进程管理和工作控制</h3>

<ol>
  <li>
    <p><code class="highlighter-rouge">ps</code> 显示目前内存中的进程，Linux版的ps是读取/proc这个虚拟目录中的文件，以获取目前核心及进程信息。</p>

    <ul>
      <li>System V风格：<code class="highlighter-rouge">ps -ax</code> 或 <code class="highlighter-rouge">ps -a -x</code></li>
      <li>BSD风格：<code class="highlighter-rouge">ps ax</code> 或 <code class="highlighter-rouge">ps a x</code></li>
      <li><code class="highlighter-rouge">ps --pid $$</code> $$表示要显示的是目前的Bash Shell的进程信息。</li>
    </ul>

    <p>ps命令的选项和用法很多样，可以显示进程、列出进程的树状结构、自定义输出字段（进程编号pid、执行优先级ni、使用者user、程序和参数args）等。</p>

    <p>进程状态STAT表示不同的执行状态，如D：不可中断的休眠（通常是I/O），R：可执行的</p>

    <p>，S：休眠，X：死亡，&lt;：高优先级，N：低优先级，T：被追踪或被停止，+：在前台的进程群组中等。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">top</code> 除了列出进程信息外，还显示主机的重要系统信息（如工作负载、进程统计、CPU使用率、内存和交换空间的耗用等）</p>

    <p>按u接着输入使用者名称，可以找出某一使用者的进程。</p>

    <p>按q可结束top的执行。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">htop</code> 相比top操作更直观简便</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">nice -n nice值 程序</code> nice命令运用于尚未执行的程序，指定程序执行时的某一nice值， nice值越低，优先级越高。不指定nice值，预设使用10。</p>

    <p>nice值通常介于-20～20，在-20～0的nice值只有root权限者才能调整。（PRI也是进程优先级的一种表示法，PRI=NI+20，最大值为39）</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">renice nice值 -p PID -g 群组 -u 使用者名称</code> 调整某一个已执行进程的优先级。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">&amp;</code> 将指令丢到背景执行。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">bg</code> 将暂停的工作丢到背景执行。例如，<code class="highlighter-rouge">bg &amp;?sl</code> 把程序名称含有sl的字符串的工作丢到背景，<code class="highlighter-rouge">bg &amp;./sl</code> 把程序名称开头是./sl的工作丢到背景。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">fg</code> 将暂停的工作拉回到前台执行。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">jobs</code> 列出工作。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">disown</code> 移除工作</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">kill</code> 传送信号给进程或工作。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">wait</code> 等待子进程结束，传回最后一个命令的执行状态。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">suspend</code> 暂停目前的Shell。</p>
  </li>
  <li>
    <p>进程替换</p>

    <ul>
      <li>命令&lt; (指令行)</li>
      <li>&gt; (指令行)</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="历史命令">历史命令</h3>

<ol>
  <li>
    <p>历史脚本文件的路径文件名由Bash的内置变量HISTFILE定义。</p>
  </li>
  <li>
    <p>可利用HISTGNORE控制某些指令不予存入，来精简历史脚本文件。</p>

    <p><code class="highlighter-rouge">export HISTGNORE=ls:ps:cd:t*:\&amp;</code>如果一直键入重复的命令，则只存入一个。</p>
  </li>
  <li>
    <p>内置变量HISTCONTROL也可以控制指令是否存入脚本文件。</p>

    <p><code class="highlighter-rouge">export HISTCONTROL=ignoreboth</code>连续重复的指令只存一个，指令开头有空格的不存入。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">fc</code> 命令也有搜寻的功能，如<code class="highlighter-rouge">fc -s ls</code>会搜寻最近一个以ls开头的命令，并执行。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">history</code> 命令也不陌生了，执行它查看历史命令后，进行以下指令，非常方便。</p>

    <ul>
      <li><code class="highlighter-rouge">!n</code>来调用编号n的历史指令。</li>
      <li><code class="highlighter-rouge">!!</code> 执行前一个指令。</li>
      <li><code class="highlighter-rouge">!字符串</code> 最近一个以“字符串”开头的历史指令。</li>
      <li><code class="highlighter-rouge">!?字符串?</code> 最近一个含有“字符串”的历史指令。</li>
      <li>（还有很多种，只列几个看起来会用得到的）</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="文件操作">文件操作</h3>

<ol>
  <li>
    <p><code class="highlighter-rouge">mknod 选项 文件名 文件形态 主要设备代码 次要设备代码</code></p>

    <p>可用来建立特殊的文件，如区块设备文件、字符设备文件、FIFO文件。</p>

    <ul>
      <li>
        <p>建立区块设备文件</p>

        <p><code class="highlighter-rouge">mknod -m 666 nyhda1 b 3 1</code> 建立一个区块设备文件名为myhda1，指定文件权限为0666，文件形态是区块设备文件（b），主要设备代码MAJOR为3，次要设备代码MINOR为1。</p>
      </li>
      <li>
        <p>建立字符设备文件</p>

        <p><code class="highlighter-rouge">mknod -m 666 nullfile c 1 3</code> 建立一个和/dev/null相同属性的字符设备文件。</p>
      </li>
      <li>
        <p>建立FIFO文件</p>

        <p><code class="highlighter-rouge">mknod myfifo p</code> 在建立FIFO文件时，，可以不指定MAJOR和MINOR。</p>
      </li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">nksock mysocket</code>建立Socket文件.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">ln -s test.txt tfile</code> 建立新的符号链接文件tfile，指向test.txt。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">stat</code> 获取文件属性。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">chattr</code>改变文件属性。</p>
  </li>
  <li>
    <p>每一个文件都有三种时间：</p>

    <ul>
      <li>Access time：取用文件的时间。</li>
      <li>Modify time：修改文件内容的时间。</li>
      <li>Change time：文件属性或文件位置改动的时间。</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="主机安全管理">主机安全管理</h3>

<ol>
  <li>
    <p>列出核心信息</p>

    <ul>
      <li><code class="highlighter-rouge">uname -s</code> 核心名称</li>
      <li><code class="highlighter-rouge">uname -n</code> 主机名</li>
      <li><code class="highlighter-rouge">uname -r</code> 核心版本</li>
      <li><code class="highlighter-rouge">uname -v</code> 核心编译版次</li>
      <li><code class="highlighter-rouge">uname -m</code> 核心所在主机硬件</li>
      <li><code class="highlighter-rouge">uname -o</code> 操作系统种类</li>
      <li><code class="highlighter-rouge">uname -a</code> 核心所有信息，即以上6种</li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">free</code> 主机内存使用情况，-s选项指定每几秒更新一次。</p>
  </li>
  <li>
    <p>取得主机中磁盘驱动器种类：</p>

    <p>读取/proc/partitions虚拟文件中的分区信息，找到设备名称后，再读取该设备目录下关于磁盘的信息文件。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">fdisk -l /dev/磁盘设备名称</code> 列出磁盘内容</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">df</code> 列出磁盘用量。</p>
  </li>
</ol>

<h2 id="学习中遇到的问题">学习中遇到的问题</h2>

<p>安装linux server版，tty出现很多小方块。</p>

<p>（暂未解决）</p>

<h2 id="这几天学习的心得">这几天学习的心得</h2>

<p>用了四天时间，基本看完这本书，大致了解了linux在各方面的功能和任务、常见命令和shell脚本，感觉进度有点快，甚至有点消化不了，但是我也很赞同“先有再优”的观点。</p>

</div>
<div class="share">
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
  </div>
  <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["qzone","tsina","weixin","sqq"],"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/res/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>
<div class="pagination">

<a class="pagination-item newer" href="/2017/08/02/Linux_learn7.html"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;Linux_learn7</a>


<a class="pagination-item older" href="/2017/08/07/Linux_exc.html">实战演练&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></a>

</div>
<!-- 使用多说评论-->
<style>#ds-reset .ds-avatar, #ds-reset .ds-avatar img{border-radius:50%;}</style>
<script type="text/javascript">var duoshuoQuery = {short_name:"tingtinZ"};(function(){var ds = document.createElement('script');ds.type = 'text/javascript';ds.async = true;ds.src = '/res/js/embed.js';ds.charset = 'UTF-8';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);})();</script>
<div class="comments">
  <div class="ds-thread" data-title="Linux学习小记8" data-thread-key="/2017/08/03/Linux_learn8" data-url="https://tingtinZ.github.io/2017/08/03/Linux_learn8.html"></div>
</div> 

<!-- 使用disqus评论-->

  <div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = "https://tingtinZ.github.io/2017/08/03/Linux_learn8.html";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://tingtinz.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    <script id="dsq-count-scr" src="//zshmobi.disqus.com/count.js" async></script>
  


    
    </div>
  </div>    
  <div id="top"><a id="rocket" href="javascript:;" title="返回顶部"><i></i></a></div>
  
</body>
</html>
